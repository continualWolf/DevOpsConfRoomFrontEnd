"use strict";(self["webpackChunk_amp_ui_commerce_commerce_web_app"]=self["webpackChunk_amp_ui_commerce_commerce_web_app"]||[]).push([[61215],{18021:(e,t,n)=>{n.d(t,{B_:()=>xe,Jz:()=>$t,x4:()=>f});n(90399),n(80978),n(70309),n(84163),n(60647),n(80417),n(40812),n(87246),n(17125),n(67904),n(23395),n(65978),n(44718),n(31629),n(9564),n(96391);let i,a,r,o,s;function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t=p(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){var t=u(e,"string");return"symbol"===typeof t?t:String(t)}(function(e){e["CanBuyVppLicenses"]="UnsupportedAccountTypeForWeb_CanBuyVppLicenses",e["CanManageVppLicenses"]="UnsupportedAccountTypeForWeb_CanManageVppLicenses",e["CanShopInVolumeEducationStore"]="UnsupportedAccountTypeForWeb_CanShopInVolumeEducationStore",e["CanShopInVolumeEnterpriseStore"]="UnsupportedAccountTypeForWeb_CanShopInVolumeEnterpriseStore",e["ConversionRequired"]="UnsupportedAccountTypeForWeb_ConversionRequired",e["IsManagedAppleId"]="UnsupportedAccountTypeForWeb_IsManagedAppleId",e["IsSpecialEduAccount"]="UnsupportedAccountTypeForWeb_IsSpecialEduAccount",e["SecurityUpgradeRequired"]="UnsupportedAccountTypeForWeb_SecurityUpgradeRequired",e["LiteAccount"]="UnsupportedAccountTypeForWeb_LiteAccount",e["NoAccountFound"]="NoAccountFound",e["IneligibleStorefront"]="IneligibleStoreFront",e["Unauthorized"]="Unauthorized",e["IsDormant"]="UnsupportedAccountTypeForWeb_IsDormant"})(i||(i={})),function(e){e["DefaultWeb"]="web",e["WebService"]="ws",e["GrandSlam"]="gs"}(a||(a={})),function(e){e["Inline"]="inline",e["Modal"]="modal"}(r||(r={})),function(e){e["AccountCardType"]="accountCardType",e["AccountCreateWeb"]="account-create-web",e["AccountLinkMoviesAnywhereSrvUrl"]="moviesAnywhereLinkAccountSrvUrl",e["AccountRecoverySubscription"]="account-recovery-candidates",e["AccountSettingsAppleIdSiteUrl"]="appleIdSiteUrl",e["AccountSettingsChangeStorefrontUrl"]="changeStoreFrontUrl",e["AccountSettingsGraphqlUrl"]="accountSummaryGraphQL",e["AccountSummaryUrl"]="modifyAccount",e["AcknowledgeMessage"]="acknowledge-message",e["AddFundsInfo"]="addFundsInfoSrv",e["AddFundsOther"]="addFundsOtherSrv",e["AddFundsSuccess"]="addFundsSuccessSrv",e["AddFundsUrl"]="AddFundsUrl",e["ApplePayClassicSettingsUrl"]="apple-pay-classic-settings-url",e["ApplePayEnroll"]="applePayEnroll",e["ApplePaySession"]="applePayPaymentSession",e["ApsJwsUrl"]="aps-jws-url",e["ApsJwsUrlNp"]="aps-jws-url-np",e["AssignSubscriptionBeneficiary"]="assignSubscriptionBeneficiary",e["AurumEditAddress"]="aurumEditAddress",e["AutoReloadCancel"]="addFundsCancelAutoReloadSrv",e["AutoReloadSuccess"]="addFundsAutoReloadInfoSrv",e["BankTokenUrl"]="bankTokenUrl",e["BuySubscription"]="buySubscription",e["BuySubscriptionExit"]="buySubscriptionExit",e["CancelPreorders"]="cancelPreorderItemsSrv",e["CancelSegmentVerificationState"]="cancelSegmentVerificationState",e["CharityInfo"]="commerce-charity-data",e["CredentialsBrokerTokenV1A3"]="credentialsBrokerTokenV1A3",e["CheckForCarrierOffers"]="checkChannelOffers",e["CommerceAppFallbackUrl"]="commerceAppFallbackUrl",e["CommerceBaseUrl"]="commerceAppBaseUrl",e["CommerceUiUrls"]="commerce-ui-urls",e["ConsentLocalizationUrl"]="consentLocalizationUrl",e["ContentBonusOfferRedemptionEnabled"]="contentBonusOfferRedemptionEnabled",e["CoverageCentral"]="coverageCentral",e["CreateSegmentVerificationSession"]="createSegmentVerificationSession",e["DeauthAllMachines"]="deauthAllMachines",e["DeleteSegmentVerificationSession"]="deleteSegmentVerificationSession",e["DeviceProfileTrustedDomains"]="psd2-device-profile-trusted-domains",e["DynamicConsentUrl"]="dynamicConsentUrl",e["EditAccountFieldsSrvV2"]="editAccountFieldsSrvV2",e["EmailTermsSrv"]="emailTermsSrv",e["ExpressDtuEnabled"]="applePayExpressCheckoutDtuEnabled",e["ExternalVerificationStatus"]="getExternalVerificationStatus",e["FinanceAppBaseUrl"]="financeApp.baseUrl",e["FinanceManagePayments"]="paymentInformationUrl",e["GenerateEmailConfirmationCode"]="generateEmailConfirmationCode",e["GetAccountPreferences"]="getSubscriptionAccountPreferences",e["GetAllTermsAndConsents"]="getAllTermsAndConsents",e["GetAvkMethods"]="avkMethods",e["GetCardType"]="getCardType",e["GetCarmConfigure"]="getCarmConfigure",e["GetConnectedAccountLinks"]="getConnectedAccountLinks",e["GetConsentInfo"]="getConsentInfo",e["GetCoveredDevices"]="getCoveredDevices",e["GetMusicSDKAuthorizations"]="getMusicSDKAuthorizationsSrv",e["GetOAuth2TVAuthorizations"]="getOAuth2TVAuthorizationsSrv",e["GetSeasonPassPurchase"]="getSeasonPassPurchase",e["GetChannelLinkingSuccessData"]="getChannelLinkingSuccessData",e["GetSandboxAgeDeclarationOverrides"]="sandboxAgeOverrideConfigs",e["SandboxRescindConsent"]="rescindAppConsent",e["GetSegmentOffers"]="getSegmentOffers",e["GetSegmentVerificationSession"]="getSegmentVerificationSession",e["GetSegmentVerificationStateAuthdbCountryList"]="getSegmentVerificationStateAuthdbCountryList",e["GetSegmentVerificationStateAuthdbForm"]="getSegmentVerificationStateAuthdbFormMetadata",e["GetSegmentVerificationStateAuthdbSchoolList"]="getSegmentVerificationStateAuthdbSchoolList",e["GetSubscriptionOffersSrv"]="getSubscriptionOffersSrv",e["GetSubscriptionsInfoSrv"]="getSubscriptionInfoSrv",e["GetSubscriptionsSrv"]="getSubscriptionsSrv",e["GetTermsByCountryAndTypeSrv"]="getTermsByCountryAndTypeSrv",e["GetVerificationSessionHelpUrl"]="getVerificationSessionHelpUrl",e["GetVerificationUrl"]="getVerificationUrl",e["GroupPaymentAdd"]="groupPaymentAdd",e["GroupPaymentEdit"]="groupPaymentEdit",e["GroupPaymentInfo"]="groupPaymentInfo",e["GroupPaymentInitiateChallenge"]="groupPaymentIntiateChallenge",e["GroupPaymentVerifyChallenge"]="groupPaymentVerifyChallenge",e["GroupPaymentRemove"]="groupPaymentRemove",e["IdVerificationFieldsSrv"]="idVerificationFieldsSrv",e["InferPaymentUpdate"]="infer-payment-update",e["InitiateChallenge"]="initiateChallenge",e["InitiateIdVerification"]="initiateIdVerification",e["InvoiceReductionSrv"]="invoiceReductionSrv",e["IsBundleEnabled"]="isBundleEnabled",e["IsInvoiceReductionEnabled"]="isInvoiceReductionEnabled",e["IsKoreaAgeVerificationEnabled"]="isKoreaAgeVerificationEnabled",e["IsManageIcloudStorageEnabled"]="isManageIcloudStorageEnabled",e["IsManagePaymentsEnabled"]="isManagePaymentsEnabled",e["IsPsd2LoggingEnabled"]="isPsd2LoggingEnabled",e["IsStoreCreditGiftingUpdateEnabled"]="storeCreditGiftingUpdateEnabled",e["IsUsingSharedPayment"]="isUsingSharedPayment",e["Language"]="language",e["LanguageTag"]="language-tag",e["LegacyEditBillingInfo"]="legacyEditBillingInfoSrvV2",e["LegacyEditBillingInfoSrvV2"]="legacyEditBillingInfoSrvV2",e["LinkSegmentVerificationToken"]="linkSegmentVerificationToken",e["LinkToPartner"]="linkToPartner",e["LoadCreateAccountFieldsSrv"]="createAccountFieldsSrv",e["ManageDevicesSlotInfo"]="manageDevicesSlotInfo",e["ManagePaymentsUrl"]="managePaymentsUrl",e["MediaLinkUnlinkedSupportArticle"]="mediaLinkUnlinkedSupportArticle",e["MessagingUrl"]="messagingUrl",e["Metrics"]="metrics",e["ModifyAccountWk1"]="modifyAccountWk1",e["OverlappingPlans"]="overlapping-plans",e["PaymentAdd"]="addBillingInfoSrv",e["PaymentAddV2"]="addBillingInfoSrvV2",e["PaymentEdit"]="editBillingInfoSrv",e["PaymentEditV2"]="editBillingInfoSrvV2",e["PaymentInfos"]="paymentInfos",e["PaymentInfosAdd"]="paymentInfosAdd",e["PaymentInfosEdit"]="paymentInfosEdit",e["PaymentInfosRemove"]="paymentInfosRemove",e["PaymentInfosRemoveApplePayClassic"]="paymentInfosRemoveApplePayClassic",e["PaymentLegacyEditV2"]="legacyEditBillingInfoSrvV2",e["PaymentOptions"]="paymentOptionsSrv",e["PaymentsAndShippingUrl"]="paymentsAndShippingUrl",e["PostConsent"]="postConsent",e["PostSegmentVerificationStateAuthdbForm"]="postSegmentVerificationStateAuthdbForm",e["PostSegmentVerificationStateDocumentReviewForm"]="postSegmentVerificationStateDocumentReviewForm",e["PostSegmentVerificationStateEmailCode"]="postSegmentVerificationStateEmailCode",e["PostSegmentVerificationStateEmailForm"]="postSegmentVerificationStateEmailForm",e["PostSegmentVerificationStateSingleSignOnForm"]="postSegmentVerificationStateSingleSignOnForm",e["PostSegmentVerificationServiceProvider"]="postSegmentVerificationServiceProvider",e["PreferredRenewalOption"]="preferredRenewalOption",e["Preorders"]="preorderItemsSrv",e["PreordersUrl"]="preordersUrl",e["PrivacyConsentConsent"]="pipl-urls/apple/consent",e["PrivacyConsentDissent"]="pipl-urls/apple/dissent",e["PrivacyConsentQueryConsent"]="pipl-urls/apple/queryConsent",e["Privileges"]="privileges",e["ProductInfo"]="productInfo",e["Psd2LoggingUrl"]="psd2LoggingUrl",e["PurchaseHistoryUrl"]="purchaseHistoryUrl",e["PvkAddPmofUrl"]="pvkAddPmofUrl",e["PvkBiometricsOnlyAuth"]="pvkBiometricsOnlyAuth",e["PvkEmailGenerateCodeUrl"]="pvkEmailGenerateCodeUrl",e["PvkEmailValidateCodeUrl"]="pvkEmailValidateCodeUrl",e["PvkEmailWaterfallUrl"]="pvkEmailWaterfallUrl",e["RatingsAndReviews"]="ratingsReviews",e["RedeemCodeDetails"]="codeDetails",e["RedeemCodeSrv"]="redeemCodeSrv",e["RedeemDeclineBonus"]="declineBonus",e["RedeemInfo"]="redeemInfo",e["RedeemLandingUrl"]="redeemCodeLanding",e["RedeemMarketingUrl"]="redeemMarketingUrl",e["RedeemValidateIdUrl"]="redeemValidateIdUrl",e["Redirect3dSecureUrl"]="redirect3DSecureUrl",e["RefundRequest"]="inAppRefund",e["RefundTransactionDetails"]="inAppRefundReasons",e["ReinitiateIdVerification"]="reinitiateIdVerification",e["RemoveConnectedAccount"]="removeConnectedAccount",e["RemoveDeviceSlot"]="removeDeviceSlot",e["RemoveReview"]="removeReview",e["RepairSubscriptionUsingExternalVerification"]="repair-subscription-using-external-verification",e["ResendCarmOtp"]="resendCarmOtp",e["ReverifySegmentStatus"]="reverifySegmentStatus",e["RevokeMusicSDKAuthorization"]="revokeMusicSDKAuthorizationSrv",e["RevokeOAuth2TVAuthorization"]="revokeOAuth2TVAuthorizationsSrv",e["SandboxClearPurchaseHistory"]="sandboxClearPurchaseHistory",e["SandboxGetIntroOfferStatus"]="sandboxIntroOfferStatus",e["SandboxResetIntroOffer"]="sandboxResetIntroOffer",e["SandboxSubscriptionRenewalRate"]="sandboxSubscriptionRenewalRate",e["SaveNickname"]="saveNickname",e["SendCarmOtp"]="sendCarmOtp",e["SendSegmentVerificationStateDocumentReviewLink"]="sendSegmentVerificationStateDocumentReviewLink",e["ShippingAddressDelete"]="deleteShippingAddress",e["ShippingAddressEdit"]="editShippingAddressSrv",e["SpeedybuyConfirmationDialog"]="speedybuyConfirmationDialog",e["StackableApplePayClassicSubscriptions"]="apple-pay-classic-subscription-infos-url",e["StackableDeletePayment"]="deleteStackablePaymentSrv",e["StackablePayments"]="getStackablePaymentsSrv",e["StackablePaymentsWithApplePay"]="paymentInfoWithApplePay",e["StackablePaymentsWithApplePayClassic"]="apple-pay-classic-payment-infos-url",e["StackableReorderPayments"]="reorderStackablePaymentsSrv",e["StackableReorderWallets"]="reorderStackableWalletsSrv",e["StartExternalVerification"]="startExternalVerification",e["SubscriptionDetailsV3"]="getSubscriptionDetail",e["SubscriptionIcloudPlanSelection"]="channelPlanSelection",e["SubscriptionIcloudStorageDetails"]="getStorageBarInfo",e["SubscriptionIcloudUseThisPlan"]="channelUseThisPlan",e["SubscriptionImpactMessaging"]="impactMessaging",e["SubscriptionImpactMessagingSandbox"]="impactMessagingSandbox",e["SubscriptionNotifications"]="manage-subs-notifications",e["SubscriptionUnbundleOptionsV3"]="getUnbundleOptions",e["SubscriptionsListV3"]="getSubscriptionList",e["SupportAppAuthTokenId"]="SupportAppAuthTokenId",e["TermsCheck"]="terms-check",e["ToggleAccountFamilySharing"]="toggle-account-family-sharing",e["ToggleFamilySharing"]="toggle-family-sharing",e["ToggleIsUsingSharedPayment"]="toggleIsUsingSharedPayment",e["UnbundleSubscriptionOptionsSrv"]="unbundleSubscriptionOptionsSrv",e["UnbundleSubscriptionSrv"]="unbundleSubscriptionSrv",e["UniversalAcknowledgeMessage"]="universal-acknowledge-message",e["UnlinkSegmentStatus"]="unlinkSegmentStatus",e["UpdateAutoRenewStateSrv"]="updateAutoRenewStateSrv",e["UpdateIcloudStorageSrv"]="updateIcloudStorageSrv",e["UpdateSeasonPassPurchase"]="updateSeasonPassPurchase",e["UpdateWithToken"]="updateWithToken",e["ValidateAccountForChangeCountrySrvV2"]="validateAccountForChangeCountrySrvV2",e["ValidateCarm"]="validateCarm",e["ValidateEmailConfirmationCode"]="validateEmailConfirmationCode",e["VerificationKitInit"]="verification_kit_init",e["VerificationUrl"]="verificationUrl",e["VerifyChallenge"]="verifyChallenge",e["VerifyIdVerification"]="verifyIdVerification",e["VerifyPayment"]="verifyPayment"}(o||(o={})),function(e){e["Auth"]="auth",e["Logout"]="logout",e["LogoutAll"]="logoutAll",e["AccountCreateOptions"]="accountCreateOptions",e["AccountConversionInit"]="accountConversionInit",e["AccountConversionSetSignedup"]="accountConversionSetSignedup",e["AccountPodSrv"]="accountPodSrv",e["AccountSettingsSrv"]="accountSettingsSrv",e["AcknowledgePrivacy"]="acknowledgePrivacy",e["AndroidMusicRedeemReferrerUrl"]="androidMusicRedeemReferrerUrl",e["AppAccessRequest"]="appAccessRequest",e["AuthGrandSlam"]="authGrandSlam",e["AuthWebService"]="authWebService",e["AuthWebServiceRefresh"]="authWebServiceRefresh",e["AmpTermsGetUrl"]="ampTermsGetUrl",e["AmpTermsVerifyUrl"]="ampTermsVerifyUrl",e["BuySubscription"]="buySubscription",e["CarrierLinkSrv"]="carrierLinkSrv",e["CreateAccountFieldsSrv"]="createAccountFieldsSrv",e["ChannelSendSms"]="sendSMSCode",e["ChannelVerifySms"]="verifySMSCode",e["GetChannelSubscriptionOfferParameters"]="getChannelSubscriptionOfferParameters",e["CreateAccountSrv"]="createAccountSrv",e["DeviceLinkValidate"]="deviceLinkValidate",e["EditBillingInfoSrv"]="editBillingInfoSrv",e["EditAccountFieldsSrvV2"]="editAccountFieldsSrvV2",e["GenerateAndSendSecCodeSrv"]="generateAndSendSecCodeSrv",e["GenerateEmailConfirmationCodeSrv"]="generateEmailConfirmationCodeSrv",e["GetPayPalUrl"]="getPayPalUrl",e["GetTermsByCountryAndTypeSrv"]="getTermsByCountryAndTypeSrv",e["IdVerificationFieldsSrv"]="idVerificationFieldsSrv",e["InitiateIdVerification"]="initiateIdVerification",e["linkChannelSubscription"]="linkChannelSubscription",e["NuDataSyncResponseSrv"]="nuDataSyncResponseSrv",e["OverlappingPlans"]="overlapping-plans",e["ParentalControlsDisable"]="parentalControlsDisable",e["ParentalControlsEdit"]="parentalControlsEdit",e["ParentalControlsPinEdit"]="parentalControlsPinEdit",e["ParentalControlsPinVerify"]="parentalControlsPinVerify",e["ParentalControlsVideo"]="parentalControlsVideo",e["ParentalControlsMusic"]="parentalControlsMusic",e["ParentalControlsRecoveryEmailEdit"]="parentalControlsRecoveryEmailEdit",e["ParentalControlsRecoveryEmailSend"]="parentalControlsRecoveryEmailSend",e["ParentalControlsSetup"]="parentalControlsSetup",e["PartnerLinkAttributes"]="partnerLinkAttributes",e["PartnerLinkComplete"]="partnerLinkComplete",e["PartnerLinkInitiate"]="partnerLinkInitiate",e["PartnerLinkReverseAuthInitiate"]="partnerLinkReverseAuthInitiate",e["PaymentOptionsSrv"]="paymentOptionsSrv",e["RedeemCodeInfo"]="redeemCodeInfo",e["RedeemSubscription"]="redeemSubscription",e["ReInitiateIdVerification"]="reInitiateIdVerification",e["SendCarmOtp"]="sendCarmOtp",e["SendTermsEmail"]="sendTermsEmail",e["CarrierBillingOtpInitiate"]="dcbManualOtpInitiate",e["CarrierBillingOtpReinitiate"]="dcbManualOtpReinitiate",e["CarrierBillingValidateOtp"]="dcbManualOtpValidate",e["CarrierChannelLinkSrv"]="carrierChannelLinkSrv",e["CarrierChannelSendSmsSrv"]="carrierChannelSendSmsSrv",e["CarrierChannelVerifySmsSrv"]="carrierChannelVerifySmsSrv",e["CheckEmployeeLinkStatus"]="isCorpAccountLinked",e["GenerateEmployeeLinkToken"]="getCorpAccountLinkToken",e["EmployeeOffersUrl"]="employeeOffers",e["SubscriptionConfirmation"]="subscriptionConfirmation",e["SubscriptionOffers"]="subscriptionOffers",e["SubscriptionStatus"]="subscriptionStatus",e["SubscriptionStatusLegacy"]="subscriptionStatusLegacy",e["SubscriptionsSrv"]="subscriptionsSrv",e["SubscriptionNotify"]="subscriptionNotify",e["TermsAndConditions"]="termsAndConditions",e["TermsCheckSrv"]="termsCheckSrv",e["ThirdPartyLogin"]="thirdPartyLogin",e["TvAgeVerifyPayment"]="tvAgeVerifyPayment",e["ValidateAccountFieldsSrv"]="validateAccountFieldsSrv",e["ValidateAccountCredentials"]="validateAccountCredentials",e["ValidateAccountNameSrv"]="validateAccountNameSrv",e["InitializeSessionSrv"]="initializeSessionSrv",e["ValidateCarm"]="validateCarm",e["ValidateEmailConfirmationCodeSrv"]="validateEmailConfirmationCodeSrv",e["ValidateSecCodeSrv"]="validateSecCodeSrv",e["VerifyIdVerification"]="verifyIdVerification",e["PaymentChallengeInitiate"]="paymentChallengeInitiate",e["PaymentChallengeVerify"]="paymentChallengeVerify",e["WatchListSettings"]="watchListSettings",e["WebAccountInfo"]="webAccountInfo",e["WebAccountInfoRefresh"]="webAccountInfoRefresh",e["QrAuthValidate"]="qrAuthValidate",e["QrAuthLink"]="qrAuthLink",e["QrAuthRoute"]="qrAuthRoute",e["RegisterDeviceFpdi"]="registerDeviceFpdi",e["IdmsSignin"]="idmsSignin",e["IdmsSigninUAT"]="idmsSigninUAT",e["StoreFrontId"]="storeFrontId",e["GetRestrictedCreateAccountOptions"]="getRestrictedCreateAccountOptions",e["ValidateOauthLinkCode"]="validateOauthLinkCode",e["QrAuthWeb"]="qrAuthWeb",e["InitializeOauthLinkFlow"]="initializeOauthLinkFlow",e["CancelBuy"]="cancelBuy",e["IcloudEligibility"]="icloudEligibility",e["MercuryBaseUrlIcloud"]="mercuryBaseUrlIcloud",e["MercuryBaseUrlTv"]="mercuryBaseUrlTv",e["MercuryBaseUrlMusic"]="mercuryBaseUrlMusic",e["InboxMessages"]="inboxMessages",e["RemoteUnlink"]="remoteUnlink",e["GooglePlayStoreAppleMusicUrl"]="googlePlayStoreAppleMusicUrl",e["GooglePlayStoreAppleTvUrl"]="googlePlayStoreAppleTvUrl",e["GooglePlayStoreAppleTvAppLinkReferrer"]="googlePlayStoreAppleTvAppLinkReferrer",e["GetEligibleInAppPurchasables"]="getEligibleInAppPurchasables",e["GetSubscriptionBundleResource"]="getSubscriptionBundleResource",e["GetPersonalizedAccountLinkingUrl"]="getPersonalizedAccountLinkingUrl"}(s||(s={}));const m=l(l({},s),o);let g,f;(function(e){e["CreateAccount"]="create-account",e["VerifyEmail"]="verify-email",e["VerifyPhone"]="verify-phone",e["CapturePhoneNumber"]="capture-phone-number",e["CarrierLinking"]="carrier-linking",e["ChannelPlatformLanding"]="channel-platform-landing",e["ChannelPlatformSuccessChina"]="channel-platform-success-china",e["ChannelSmsVerification"]="channel-sms-verification",e["TermsAgreement"]="terms-agreement",e["PrivacyConsent"]="privacy-consent"})(g||(g={})),function(e){e["AccountConfirmation"]="account-confirmation",e["AccountConversion"]="account-conversion",e["AccountConversionBillingAddress"]="account-conversion-billing-address",e["AccountSettings"]="account-settings",e["AccountSettingsChooseSubPlan"]="account-settings-choose-plan",e["AccountSettingsEditSubPlan"]="account-settings-edit-plan",e["AgeVerification"]="age-verification",e["AgeVerificationLanding"]="age-verification-landing",e["AgeVerificationForm"]="age-verification-form",e["AgeVerificationVerifySms"]="age-verification-verify-sms",e["AgeVerificationConfirmation"]="age-verification-confirmation",e["AlreadySubscriber"]="already-subscriber",e["Authenticate"]="authenticate",e["SilentAuthenticate"]="silent-authenticate",e["Base"]="base",e["Billing"]="billing",e["BillingInfo"]="billing-info",e["BuyV2"]="buy-v2",e["BuyV2Success"]="buy-v2-success",e["BuyV2InterruptLegacy"]="buy-v2-interrupt-legacy",e["BuyV2InterruptErrorAlreadySubscribed"]="buy-v2-interrupt-error-already-subscribed",e["BuyV2InterruptFamilyPermissionRequired"]="buy-v2-interrupt-family-permission-required",e["BuyV2InterruptBuyPending"]="buy-v2-interrupt-buy-pending",e["BuyV2InterruptTerminalDialog"]="buy-v2-interrupt-terminal-dialog",e["BuyV2ErrorStorefrontMismatch"]="buy-v2-error-storefront-mismatch",e["BuyWithBilling"]="buy-with-billing",e["CarrierBilling"]="carrier-billing",e["CarrierSendSms"]="carrier-send-sms",e["CarrierVerifySms"]="carrier-verify-sms",e["ChannelPlatformLanding"]="channel-platform-landing",e["ChannelPlatformConfirmation"]="channel-platform-confirmation",e["ChannelPlatformInstallApp"]="channel-platform-app-uninstalled",e["ChannelPlatformSuccessChina"]="channel-platform-success-china",e["CaptureChinaPhoneNumber"]="capture-china-phone-number",e["ComplianceActionPage"]="compliance-action-page",e["ContentRestricted"]="content-restricted",e["ContextualUpsell"]="contextual-upsell",e["ContextualPodcastsUpsell"]="contextual-podcasts-upsell",e["ContextualSportsUpsell"]="contextual-sports-upsell",e["ContextualPlatterSeeAllPlansUpsell"]="contextual-platter-see-all-plans-upsell",e["ContextualPlatterUpsell"]="contextual-platter-upsell",e["ContextualTeamSelection"]="contextual-team-selection",e["ConfirmConsent"]="confirm-consent",e["Create"]="create",e["CreateAccount"]="create-account",e["CreateAccountV2"]="create-account-v2",e["CreateLanding"]="create-landing",e["CreateLandingV2"]="create-landing-v2",e["ClearPlayHistory"]="clear-play-history",e["CreateSubscribeConfirmDialog"]="create-subscribe-confirm-dialog",e["DeviceLinkLanding"]="device-link-landing",e["DeviceLinkSuccess"]="device-link-success",e["DialogLegacy"]="dialog-legacy",e["DynamicNavigator"]="dynamic-navigator",e["EditBilling"]="edit-billing",e["FetchProxy"]="fetch-proxy",e["FreeContentAccountCreated"]="free-content-account-created",e["FreeContentLanding"]="free-content-landing",e["GenericDialog"]="generic-dialog",e["InboxMessages"]="inbox-messages",e["LegalAgeVerification"]="legal-age-verification",e["Logout"]="logout",e["SignoutEverywhere"]="signout-everywhere",e["NotFound"]="not-found",e["OAuth"]="oauth",e["Offer"]="offer",e["OfferUnsupported"]="offer-unsupported",e["PasscodeReset"]="passcode-reset",e["PaymentVerificationDetails"]="payment-verification-details",e["PurchaseHistory"]="purchase-history",e["PurchaseHistoryDetail"]="purchase-history-detail",e["PurchaseHistoryFilters"]="purchase-history-filters",e["ManagePayments"]="manage-payments",e["ManageSubscription"]="manage-subscription",e["ManageSubscriptionDetail"]="manage-subscription-detail",e["MercuryUpsell"]="mercury-upsell",e["IcloudPlanSelection"]="icloud-plan-selection",e["MusicPlanSelection"]="music-plan-selection",e["MusicStudentUpsell"]="music-student-upsell",e["MusicStudentSubscribe"]="music-student-subscribe",e["OauthLanding"]="oauth-landing",e["PartnerLinkLanding"]="partner-link-landing",e["PartnerLinkLandingV2"]="partner-link-landing-v2",e["PartnerLinkConfirm"]="partner-link-confirm",e["PaymentExternalAuth"]="payment-external-auth",e["PaymentMandateDefaultUserActionRedirectSecure3dFlow"]="payment-action-mandate-default-redirect-secure3d",e["PaymentStepUpDefaultUserActionRedirectSecure3dFlow"]="payment-action-step-up-default-redirect-secure3d",e["PaymentRecovery"]="payment-recovery",e["PaymentVerificationOtp"]="payment-verification-otp",e["PaymentVerificationSuccess"]="payment-verification-success",e["PodcastsConnectSubscribe"]="podcasts-connect-subscribe",e["PodcastsConnectRenew"]="podcasts-connect-renew",e["PlanAction"]="plan-action",e["PlanSubscribe"]="plan-subscribe",e["Privacy"]="privacy",e["PrivacyStandalone"]="privacy-standalone",e["PrivacyConsentController"]="privacy-consent-controller",e["Psd2Auth"]="psd2-auth",e["Psd2DeviceProfile"]="psd2-device-profile",e["Psd2Return"]="psd2-return",e["RedeemLanding"]="redeem-landing",e["RedeemConfirmation"]="redeem-confirmation",e["RedeemCodeEntry"]="redeem-code-entry",e["RedeemSuccess"]="redeem-success",e["RedeemError"]="redeem-error",e["Resume"]="resume",e["ResumeSegmentVerification"]="resume-segment-verification",e["SegmentReverification"]="segment-reverification",e["SegmentVerified"]="segment-verified",e["ServerError"]="server-error",e["SetParentalControls"]="set-parental-controls",e["SignedOutOffer"]="signed-out-offer",e["SignedInOffer"]="signed-in-offer",e["StackablePayments"]="stackable-payments",e["StackableAddPayment"]="stackable-add-payment",e["StackableAddPaymentQr"]="stackable-add-payment-qr",e["StackableAddPaymentBase"]="stackable-add-payment-base",e["ChallengePaymentQrCode"]="challenge-payment-qr",e["StepUpDefaultQrCode"]="step-up-default-qr",e["StepUpDefaultRedirectWeb"]="step-up-default-redirect-web",e["StackableEditPayment"]="stackable-edit-payment",e["StackableEditShipping"]="stackable-edit-shipping",e["Subscribe"]="subscribe",e["SubscribeBundleLanding"]="subscribe-bundle-landing",e["SubscribeBundleWelcome"]="subscribe-bundle-welcome",e["SubscriptionEdit"]="subscription-edit",e["SubscriptionConfirmation"]="subscription-confirmation",e["SubscribeConfirmBuyDialog"]="subscribe-confirm-buy-dialog",e["SubscriptionGdprWelcomePage"]="subscription-gdpr-welcome-page",e["SubscriptionWelcomePage"]="subscription-welcome-page",e["SubscriptionNotificationSent"]="subscription-notification-sent",e["SubscriptionNotificationCenter"]="subscription-notification-center",e["SubscriptionDisclosure"]="subscription-disclosure",e["SubscriptionCancellationPending"]="subscription-cancellation-pending",e["SubscriptionOverlappingPlans"]="subscription-overlapping-plans",e["TermsAgreement"]="terms-agreement",e["ThirdParty"]="third-party",e["TVAgeVerification"]="tv-age-verification",e["Unsupported"]="unsupported",e["VerifyAge"]="verify-age",e["VerifyAgeTest"]="verify-age-test",e["VerifyAgeTestFail"]="verify-age-test-fail",e["VerifyCarrier"]="verify-carrier",e["VerifyCarrierOffer"]="verify-carrier-offer",e["VerifyCode"]="verify-code",e["VerifyCvv"]="verify-cvv",e["VerifyEmail"]="verify-email",e["VerifyEmailV2"]="verify-email-v2",e["VerifyPhone"]="verify-phone",e["VerifyPhoneV2"]="verify-phone-v2",e["LinkhostLandingCode"]="linkhost-landing-code",e["LinkhostLandingSubscription"]="linkhost-landing-subscription",e["LinkhostOnboarding"]="linkhost-onboarding",e["LinkhostLinkSuccess"]="linkhost-link-success",e["LinkhostEditRestriction"]="linkhost-edit-restriction",e["LinkhostToggleRenewalReceipts"]="linkhost-toggle-renewal-receipts",e["LinkhostLinkingNavigation"]="linkhost-linking-navigation",e["ErrorUnsupportedCountry"]="error-unsupported-country",e["ErrorNoSubscription"]="error-no-subscription",e["OAuthError"]="oauth-error",e["OAuth2"]="oauth-activate",e["StorefrontEditCountrySelect"]="storefront-edit-country-select",e["StorefrontEditValidation"]="storefront-edit-validation",e["SubscriptionsList"]="subscriptions-list",e["SubscriptionsUnsupportedCountry"]="subscriptions-unsupported-country",e["SubscriptionDetails"]="subscription-details",e["SubscriptionPriceIncrease"]="subscription-price-increase",e["SubscriptionImpactMessaging"]="subscription-impact-messaging",e["SubscriptionCancellationSuccess"]="subscription-cancellation-success",e["IcloudSubscriptionLinkingSuccess"]="icloud-subscription-linking-success",e["IcloudSubscriptionLinkBlock"]="icloud-subscription-link-block",e["SubscriptionPrivacy"]="subscription-privacy",e["SubscriptionSelection"]="subscription-selection",e["StorefrontEditValidationSuccess"]="storefront-edit-validation-success",e["StorefrontEditValidationError"]="storefront-edit-validation-error",e["StorefrontEditTerms"]="storefront-edit-terms"}(f||(f={})),f.Authenticate,f.SilentAuthenticate,f.Offer,f.PasscodeReset,f.LinkhostOnboarding,f.FreeContentLanding;const h=[f.DynamicNavigator,f.FetchProxy,f.Logout],y=e=>{const t=Object.entries(e).filter((e=>{let[,t]=e;return null!==t&&void 0!==t&&""!==t})).reduce(((e,t)=>{let[n,i]=t;return l(l({},e),{},{[n]:i})}),{}),n=new URLSearchParams(t);return n.toString()},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new RegExp("([^?=&]+)(=([^&]*))","g"),i=e.match(n);return i?i.reduce(((e,n)=>{const i=n.split("="),a=i[0],r=i[1];return e[a]=t?decodeURIComponent(r):r,e}),{}):{}},v="MISSING_DEPENDENCIES",b=class extends Error{constructor(e){super();const t=Object.keys(e).filter((t=>!e[t])).join(", ");this.name=v,this.message="Missing dependencies: ".concat(t)}};let C,P,A,I;(function(e){e[e["Auth"]=401]="Auth",e[e["ServerUnknown"]=5002]="ServerUnknown"})(C||(C={})),function(e){e[e["AMSErrorCodeCancelled"]=6]="AMSErrorCodeCancelled"}(P||(P={})),function(e){e["Auth"]="Authentication",e["TermsAuth"]="MZFinance.TermsCheckLoginRequired",e["MediaLinkInvalidSession"]="MEDIA_LINK_INVALID_SESSION"}(A||(A={})),function(e){e["NoAuthorization"]="MZCommerce.NoAuthorization",e["AlreadyClaimed"]="MZCommerce.HardBundleAlreadyClaimed"}(I||(I={}));const k=()=>{const e=window.parent;return window!==e&&!window.Cypress},V=e=>!!e&&"object"===typeof e&&!Array.isArray(e);let w="",E="warning";const R=e=>{w=e},L=()=>E,M=function(){let{configLogLevel:e,iframeNameLogLevel:t,localStorageLogLevel:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E=n||t||e||"warning",E},T=["error"],U=["error","warn"],O=function(e){if("off"===E||"error"===E&&!T.includes(e)||"warning"===E&&!U.includes(e))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const[a,...r]=n;"dir"!==e&&(console[e]||console.log)("%cCommerceKit v".concat("3.1.0"," %c(").concat(w,")%c: ").concat(a),...r,"background-color: lightgray; color: green","background-color: lightgray; color: blue","")},B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O("error",...t)},D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O("info",...t)},x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O("warn",...t)},F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O("dir",...t)};let _={};const N="data-ck-target-id",q=()=>{R(H()),k()&&X(j(),{targetWindow:window.parent,targetId:"parent",isReady:!0}),X(window.location.origin,{targetId:"self",targetWindow:window,isReady:!0})},G=(e,t)=>{const n=new URLSearchParams({parentOrigin:e,targetId:t,parentCommerceKitVersion:"3.1.0",logLevel:L()});return n.toString()},W=e=>{const t=new URLSearchParams(e);return{parentOrigin:t.get("parentOrigin")||"",targetId:t.get("targetId")||"",parentCommerceKitVersion:t.get("parentCommerceKitVersion")||"",logLevel:t.get("logLevel")||""}},z=function e(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i>0?"-".concat(i):"",r="".concat(t?"".concat(t,"->"):"").concat(n).concat(a);return _[r]?e(t,n,i+1):r},H=()=>{if(window.name&&window.name.includes("targetId")){const{targetId:e}=W(window.name);return e}return"root"},j=()=>{if(window.name&&window.name.includes("parentOrigin")){const{parentOrigin:e}=W(window.name);return e}return window.location.origin},K=()=>{const{parentCommerceKitVersion:e}=W(window.name);return e.split(".").map((e=>parseInt(e,10)))},Q=e=>_[e],J=()=>_,Z=()=>Object.keys(J()).filter((e=>"self"!==e&&"parent"!==e)),Y=e=>{_[e]&&(_[e].isReady=!0,D("Message target '".concat(e,"' now ready")))},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isReady:!1};const{targetWindow:n,targetId:i,isReady:a,initialRouteName:r}=t;if(!i&&!r)throw new b({targetId:i,initialRouteName:r});const o=i||z(H(),r||"");return _[o]={id:o,targetOrigin:e,targetWindow:n,isReady:a,queue:[]},D("Added message target with ID: '".concat(o,"' and origin: '").concat(e,"'")),o},$=(e,t)=>{_[e].targetWindow=t||void 0},ee=e=>{_[e]&&delete _[e],D("Removed message target with ID: '".concat(e,"'"))};class te extends Error{constructor(e){super(e.errorMessage),this.name="modalCloseFailureError",this.result=e.result,this.errorKey=e.errorKey,this.errorMessage=e.errorMessage,this.data=e.data}}let ne,ie;(function(e){e["Apps"]="apps",e["Tv"]="tv",e["Music"]="music",e["PodcastsConnect"]="podcastsconnect",e["Podcasts"]="podcasts",e["Activate"]="activate",e["BusinessVPP"]="vpp.itunes",e["EducationVPP"]="volume.itunes",e["GroupVPP"]="group.itunes"})(ne||(ne={})),function(e){e["Prod"]="",e["Carry"]="carry",e["Beta"]="beta",e["Nightly"]="nightly",e["Itms5"]="itms5",e["Itms7"]="itms7",e["Itms8"]="itms8",e["Itms11"]="itms11",e["ContentPreview"]="cp",e["Pddev"]="pddev",e["Dev"]="dev"}(ie||(ie={}));const ae={["web-app"]:{basePath:"/includes/commerce",navigatorRoutePath:"/navigator"}},re=()=>{if("undefined"===typeof document||!document.querySelector)return"";const e=document.querySelector("meta[name=version]");return e&&e.content||""};let oe;(function(e){e["Light"]="light",e["Dark"]="dark"})(oe||(oe={}));const se={modalOptions:{containerSelector:"body"},fetchOptions:{shouldEnableFetchProxy:!1,proxyContainerSelector:"body"},authOptions:{type:a.DefaultWeb,displayType:r.Inline,shouldDelegateAuthUI:!1},shouldDetectUserActivity:!1,userActivityOptions:{detectionIntervalInMs:1e3,eventsToDetect:["scroll","keydown","pointerdown"]},productVersion:re(),hostedAppMetadata:{subdomain:ne.Apps,environment:ie.Prod},useRelativeIframeSrc:!1,logLevel:"warning"};let ce=se;const le=(e,t)=>V(e)?t(e):Array.isArray(e)?Array.from(e):e,de=e=>{const t={};for(const n in e)t[n]=le(e[n],de);return t},ue=(e,t)=>{const n=de(e);for(const i in t){const a=t[i],r=e[i];i in e&&V(a)&&V(r)?n[i]=ue(r,a):n[i]=le(a,de)}return n},pe=e=>(ce=ue(se,e),ce),me=()=>ce,ge=()=>JSON.parse(JSON.stringify(me())),fe=function(e,t){let n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!1;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];a||(a=!0,n&&clearTimeout(n),i&&e.call(null,...o),n=setTimeout((()=>{a=!1,i||e.call(null,...o)}),t))}};function he(e){return Object.keys(e).reduce(((t,n)=>l(l({},t),{},{[e[n]]:n})),{})}let ye;(function(e){e["AddPayment"]="add-payment",e["AgeVerification"]="age-verification",e["Authenticate"]="authenticate",e["Base"]="base",e["Billing"]="billing",e["Buy"]="buy",e["BuyV2"]="buy-v2",e["BuyV2Interrupt"]="buy-v2-interrupt",e["BuyV2InterruptErrorAlreadySubscribed"]="buy-v2-interrupt-error-already-subscribed",e["BuyV2MismatchStorefrontError"]="buy-v2-error-storefront-mismatch",e["BuyV2InterruptErrorTerminalDialog"]="buy-v2-interrupt-terminal-dialog",e["BuyV2Success"]="buy-v2-success",e["ChallengePaymentQrCode"]="challenge-payment-qr",e["ContentRestricted"]="content-restricted",e["CreateAccount"]="create-account",e["DeviceLink"]="device-link",e["EditBilling"]="edit-billing",e["EditPayment"]="edit-payment",e["EditShipping"]="edit-shipping",e["Gdpr"]="gdpr",e["InboxMessages"]="inbox-messages",e["KoreaAgeVerification"]="korea-age-verification",e["Logout"]="logout",e["ManagePayments"]="manage-payments",e["ManageSubscriptions"]="manage-subscriptions",e["MusicPlanSelection"]="music-plan-selection",e["MusicStudentUpsell"]="music-student-upsell",e["MusicStudentSubscribe"]="music-student-subscribe",e["SubscriptionEdit"]="subscription-edit",e["ParentalControls"]="parental-controls",e["PaymentRecovery"]="payment-recovery",e["PlanCancel"]="plan-cancel",e["PlanReactivate"]="plan-reactivate",e["PlanSubscribe"]="plan-subscribe",e["PodcastsUpsell"]="contextual-podcasts-upsell",e["Privacy"]="privacy",e["Redeem"]="redeem",e["SegmentReverification"]="segment-reverification",e["SegmentVerified"]="segment-verified",e["Settings"]="settings",e["SettingsManagePayments"]="settings-manage-payments",e["Subscribe"]="subscribe",e["SubscribeCarrier"]="subscribe-carrier",e["SubscriptionImpactMessaging"]="subscription-impact-messaging",e["SubscriptionPriceIncrease"]="subscription-price-increase",e["SubscriptionPrivacy"]="subscription-privacy",e["SubscriptionCancellationSuccess"]="subscription-cancellation-success",e["SubscriptionSelection"]="subscription-selection",e["Terms"]="terms",e["VerifyPayment"]="verify-payment"})(ye||(ye={}));const Se={[ye.Base]:f.Base,[ye.AddPayment]:f.StackableAddPayment,[ye.AgeVerification]:f.TVAgeVerification,[ye.Authenticate]:f.Authenticate,[ye.Billing]:f.Billing,[ye.Buy]:f.BuyV2,[ye.BuyV2]:f.BuyV2,[ye.BuyV2Interrupt]:f.BuyV2InterruptLegacy,[ye.BuyV2InterruptErrorAlreadySubscribed]:f.BuyV2InterruptErrorAlreadySubscribed,[ye.BuyV2MismatchStorefrontError]:f.BuyV2ErrorStorefrontMismatch,[ye.BuyV2InterruptErrorTerminalDialog]:f.BuyV2InterruptTerminalDialog,[ye.BuyV2Success]:f.BuyV2Success,[ye.ChallengePaymentQrCode]:f.ChallengePaymentQrCode,[ye.ContentRestricted]:f.ContentRestricted,[ye.CreateAccount]:f.CreateLandingV2,[ye.DeviceLink]:f.DeviceLinkLanding,[ye.EditBilling]:f.EditBilling,[ye.EditPayment]:f.StackableEditPayment,[ye.EditShipping]:f.StackableEditShipping,[ye.Gdpr]:f.Privacy,[ye.InboxMessages]:f.InboxMessages,[ye.KoreaAgeVerification]:f.AgeVerificationLanding,[ye.Logout]:f.Logout,[ye.ManagePayments]:f.StackablePayments,[ye.ManageSubscriptions]:f.SubscriptionsList,[ye.MusicPlanSelection]:f.MusicPlanSelection,[ye.MusicStudentUpsell]:f.MusicStudentUpsell,[ye.MusicStudentSubscribe]:f.MusicStudentSubscribe,[ye.SubscriptionEdit]:f.SubscriptionDetails,[ye.ParentalControls]:f.AccountSettings,[ye.PaymentRecovery]:f.PaymentRecovery,[ye.PlanCancel]:f.PlanAction,[ye.PlanReactivate]:f.PlanAction,[ye.PlanSubscribe]:f.PlanAction,[ye.PodcastsUpsell]:f.ContextualPodcastsUpsell,[ye.Privacy]:f.Privacy,[ye.Redeem]:f.RedeemLanding,[ye.SegmentReverification]:f.SegmentReverification,[ye.SegmentVerified]:f.SegmentVerified,[ye.Settings]:f.AccountSettings,[ye.SettingsManagePayments]:f.ManagePayments,[ye.Subscribe]:f.Subscribe,[ye.SubscribeCarrier]:f.ChannelPlatformLanding,[ye.SubscriptionImpactMessaging]:f.SubscriptionImpactMessaging,[ye.SubscriptionPriceIncrease]:f.SubscriptionPriceIncrease,[ye.SubscriptionPrivacy]:f.SubscriptionPrivacy,[ye.SubscriptionCancellationSuccess]:f.SubscriptionCancellationSuccess,[ye.SubscriptionSelection]:f.SubscriptionSelection,[ye.Terms]:f.TermsAgreement,[ye.VerifyPayment]:f.PaymentVerificationDetails},ve=he(Se),be=e=>Object.values(ye).includes(e)&&e!==Se[e],Ce=()=>K()[0]<3,Pe=e=>be(e)?e:ve[e],Ae=e=>be(e)?Se[e]:e,Ie=e=>{if(!e.path)throw new Error("Failed to create modal relay payload for legacy routing of RouteName '".concat(e.routeName,"'. Legacy routing requires a path."));return e.routeName=ye.Base,e.routeConfig={routeName:ye.Base,hostedAppId:"web-app",path:e.path},delete e.path,e},ke=e=>{if(Ce()){const t=Pe(e.routeName);if(!t)return x("RouteName '".concat(e.routeName,"' does not have an associated LegacyRouteName. Falling back to routing using LegacyRouteName.Base & path.")),Ie(e);e.routeName=t}return delete e.path,e},Ve=e=>{var t,n,i;const{routeName:a}=e;let r={},o=!1;switch(e.routeName){case ye.ParentalControls:r={hash:"#parental-controls"},o=e.hash!==r.hash;break;case ye.PlanCancel:r={pathParams:{actionKey:"cancel"}},o=(null==(t=e.pathParams)?void 0:t.actionKey)!==r.pathParams.actionKey;break;case ye.PlanReactivate:r={pathParams:{actionKey:"reactivate"}},o=(null==(n=e.pathParams)?void 0:n.actionKey)!==r.pathParams.actionKey;break;case ye.PlanSubscribe:r={pathParams:{actionKey:"subscribe"}},o=(null==(i=e.pathParams)?void 0:i.actionKey)!==r.pathParams.actionKey;break}return o&&x("Missing routing data: '".concat(JSON.stringify(r),"' for route name '").concat(a,"'. As of v3, routing data like hashes and path params need to be supplied by the host. Routing data will be repaired automatically for now.")),be(a)&&(r.routeName=Ae(a),x("Legacy route name being used: '".concat(a,"'. Please switch to using '").concat(r.routeName,"'."))),l(l({},e),r)},we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne.Apps,t=arguments.length>1?arguments[1]:void 0;return t?"https://".concat(t,".").concat(e,".apple.com"):"https://".concat(e,".apple.com")},Ee=e=>{const t=ae["web-app"],{useRelativeIframeSrc:n,hostedAppMetadata:i}=e,a=n?window.location.origin:we(null==i?void 0:i.subdomain,null==i?void 0:i.environment);return"".concat(a).concat(t.basePath)},Re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{queryParams:n,isModal:i}=t,{theme:a,product:r,devToken:o,productVersion:s,authOptions:c,locale:d,storefront:u,useRelativeIframeSrc:p,hostedAppMetadata:m}=e,g=u?3===u.length?{iso3code:u}:{iso2code:u}:{};return l(l(l(l(l(l(l(l(l(l(l(l({},r&&{product:r}),o&&{devToken:o}),s&&{productVersion:s}),a&&{theme:a}),(null==c?void 0:c.type)&&{authType:c.type}),(null==c?void 0:c.displayType)&&{authDisplayType:c.displayType}),d&&{locale:d}),"undefined"!==typeof p&&{useRelativeIframeSrc:p.toString()}),g),i?{isModal:"true",hideCurtain:"true"}:{isFullscreen:"true"}),m&&{hostedAppSubdomain:m.subdomain,hostedAppEnvironment:m.environment}),n)},Le=(e,t)=>{const n=(null==t?void 0:t.config)||me(),i=e===f.FetchProxy?"/fetch-proxy.html":ae["web-app"].navigatorRoutePath;return new URL("".concat(Ee(n)).concat(i,"?").concat(y(Re(n,{queryParams:null==t?void 0:t.queryParams,isModal:null==t?void 0:t.isModal}))))},Me=()=>{const e={};return{addListener:(t,n)=>{var i;e[t]||(e[t]=[]),null==(i=e[t])||i.push(n)},removeListener:(t,n)=>{e[t]||(e[t]=[]),e[t]=e[t].filter((e=>e!==n))},emit:(t,n,i)=>{const a=e[t];null==a||a.forEach((e=>e(n,i)))}}},Te=Me(),Ue="__cm_event",Oe="__cm_sender",Be="__cm_consuming-product",De="__cm_data";let xe;(function(e){e["AgeVerificationFlowComplete"]="ageverificationflowcomplete",e["AgeVerificationFlowCancel"]="ageverificationflowcancel",e["DidAgeVerify"]="ageverified",e["DidGdprAcknowledge"]="gdpracknowledged",e["DidSignIn"]="signedin",e["DidSignOut"]="signedout",e["DidTransition"]="transitioned",e["DidTimeOut"]="didtimeout",e["SubscriptionDidChange"]="subscriptionchanged",e["RequiresTransition"]="requirestransition",e["RequiresContextualUpsell"]="requirescontextualupselldata",e["RequiresKoreaAgeVerification"]="requireskoreaageverificationdata",e["ContextualUpsell"]="contextualupselldata",e["KoreaAgeVerification"]="koreaageverificationdata",e["MediaData"]="mediadata",e["InitializedHosted"]="__cm_initialized_hosted",e["OpenModal"]="openmodal",e["CloseModal"]="closemodal",e["PushModal"]="pushmodal",e["PopModal"]="popmodal",e["ModalWasShown"]="modalwasshown",e["ModalDidClose"]="modaldidclose",e["ModalDidPop"]="modaldidpop",e["ReadyToBeShown"]="readytobeshown",e["BootWithConfig"]="bootwithconfig",e["ShowSportsScoresChange"]="showsportsscoreschange",e["AutoPlayNextVideoChange"]="autoplaynextvideochange",e["UserSettingChange"]="usersettingchange",e["ContentResize"]="contentresize",e["UserActivity"]="useractivity",e["FetchRequest"]="fetchrequest",e["FetchResponse"]="fetchresponse",e["AuthRequired"]="authrequired",e["AuthFailed"]="authfailed",e["RequestStorefrontChange"]="requestStorefrontChange",e["PaymentChange"]="paymentChange"})(xe||(xe={}));const Fe=(e,t,n)=>({[Oe]:e,[Be]:e,[Ue]:t,[De]:n}),_e=e=>{const t=e[Oe]||e[Be],n=e[Ue],i=e[De];return{eventName:n,data:i,sender:t}},Ne=e=>{const t=new URL(e);return t.host.endsWith(".apple.com")&&"https:"===t.protocol},qe=e=>Ne(e.origin),Ge=e=>{const{[Ue]:t}=e.data;return!!t},We=e=>{const{[Ue]:t,[Oe]:n,[Be]:i}=e.data;return!(!t||!n&&!i)},ze=e=>{const t=[qe,Ge,We];for(let n=0;n<t.length;n++){const i=t[n],a=i(e);if(!a)return i!==Ge&&(x("Message not verified. Failed on ".concat(i.name,".")),F(e)),!1}return!0},He=(e,t,n)=>{D(t),n&&(D("Data for '".concat(e,"' message:")),F(n))},je=(e,t)=>{const{eventName:n,data:i}=_e(t),a="Sent message '".concat(n,"' to '").concat(e,"'");He(n,a,i)},Ke=(e,t)=>{const{eventName:n,data:i}=_e(t),a="Queued message '".concat(n,"' to '").concat(e,"'");He(n,a,i)},Qe=(e,t,n)=>{const i="Received message '".concat(e,"' from '").concat(t,"'");He(e,i,n)},Je=(e,t)=>{if("parent"===e&&!k())return;const n=Q(e);if(!n)return void x("Unknown message target ID '".concat(e,"'. Discarding message."));const{targetWindow:i,targetOrigin:a,isReady:r,queue:o}=n;Ne(a)?r&&i?(i.postMessage(t,a),je(e,t)):(o.push(t),Ke(e,t)):B("Failed to send message: Unexpected origin '".concat(a,"'"))},Ze=(e,t,n)=>{const i=Fe(H(),t,n);Je(e,i)},Ye=e=>{const t=Q(e);t?t.isReady?t.targetWindow?(D("Flushing message queue for targetId: ".concat(e)),t.queue.forEach((t=>{Je(e,t)})),t.queue=[]):D("Attempted to flush message queue before target ".concat(e," iframe was loaded.")):D("Attempted to flush message queue before target ".concat(e," was marked as ready.")):x("Unknown message target ID. Unable to flush queue.")},Xe=(e,t)=>{const n=J();Object.keys(n).forEach((n=>{Ze(n,e,t)}))},$e=(e,t)=>{const n=J();Object.keys(n).filter((e=>"self"!==e&&"parent"!==e)).forEach((n=>{Ze(n,e,t)}))};let et;const tt=3e4;class nt{constructor(e){this.cleanup=e.cleanup||(()=>{}),this.beginTimeout=e.beginTimeout,this.stopTimeout=e.stopTimeout,this.timeoutId=e.timeoutId,this.hasReceivedReadyToBeShown=e.hasReceivedReadyToBeShown||!1,this.hasReceivedInitializedHosted=e.hasReceivedInitializedHosted||!1,this.routeName=e.routeName}}const it=new Map,at=e=>it.get(e),rt=(e,t)=>{const{pathParams:n,hash:i,queryParams:a,onReadyToBeShown:r,onCleanup:o,onTimeout:s,shouldAutoResize:c,data:d,isModal:u}=t||{},p=document.createElement("iframe"),{useRelativeIframeSrc:m}=me(),g=Ve({routeName:e,queryParams:a,pathParams:n,hash:i}),f=Le(g.routeName,{queryParams:g.queryParams,isModal:u}),y=X(f.origin,{initialRouteName:g.routeName,isReady:!1}),S=()=>{D("iframe for target ".concat(y," loaded")),$(y,p.contentWindow),Ze(y,xe.BootWithConfig,{routingData:g,data:d,parentConfig:ge()}),Ye(y)};p.addEventListener("load",S),p.src=m?"".concat(f.pathname).concat(f.search):f.href,p.name=G(window.location.origin,y),p.allow="publickey-credentials-get ".concat(f.origin),p.setAttribute("data-is-ck-managed",""),p.setAttribute(N,y),p.setAttribute("role","presentation"),p.style.border="0",p.style.width="100%",p.style.height="100%",p.style.colorScheme="normal";const v=function(e,t){if(e===y){const e=it.get(y);if(e&&(e.hasReceivedReadyToBeShown=!0),t){const{pageTitle:e}=t;p.title=e}null==r||r()}};Te.addListener(xe.ReadyToBeShown,v);const b=function(e){if(e===y){const e=it.get(y);e&&(e.hasReceivedInitializedHosted=!0)}};Te.addListener(xe.InitializedHosted,b);const C=(e,t)=>{let{height:n}=t;e!==y&&"root"!==e||(p.style.height="".concat(n,"px"))};c&&Te.addListener(xe.ContentResize,C);const P=()=>{var e;clearTimeout(null==(e=it.get(y))?void 0:e.timeoutId)},A=()=>{const e=it.get(y);e&&(P(),e.timeoutId=setTimeout((()=>{const t=e.hasReceivedInitializedHosted?e.hasReceivedReadyToBeShown?void 0:"TIMEOUT_READY_TO_BE_SHOWN":"TIMEOUT_INITIALIZED_HOSTED";t&&(h.includes(e.routeName)&&"TIMEOUT_READY_TO_BE_SHOWN"===t||(Te.emit(xe.DidTimeOut,H(),{targetId:y,reason:t}),B("".concat(tt," milliseconds have passed with timeout reason ").concat(t," for frame with target id ").concat(y,".")),null==s||s()))}),tt))};return it.set(y,new nt(l(l({},it.get(y)),{},{routeName:e,beginTimeout:A,stopTimeout:P,cleanup:()=>{null==o||o(),Te.removeListener(xe.ReadyToBeShown,v),c&&Te.removeListener(xe.ContentResize,C),ee(y),p.removeEventListener("load",S),p.remove(),P(),it.delete(y)}}))),A(),l({messageTargetId:y,iframeEl:p},void 0)},ot=e=>{const{messageTargetId:t}=e,n=it.get(t);if(null==n||!n.cleanup)throw new Error("Failed to destroy iframe with ID '".concat(t,"'. Cleanup function not found."));n.cleanup(),D("Destroyed iframe with ID '".concat(t,"'"))},st=()=>et?Promise.resolve(et):k()?new Promise((e=>{D("Waiting for boot config");const t=setTimeout((()=>{x("Still waiting for boot config. Page may fail to load.")}),5e3);Te.addListener(xe.BootWithConfig,(function n(i,a){Te.removeListener(xe.BootWithConfig,n),D("Boot config received"),clearTimeout(t),e(a)}))})):Promise.resolve({data:window.ckBootConfig||{},routingData:{routeName:""}}),ct=e=>{et=e},lt=()=>{const e=new ResizeObserver(fe((e=>{if(0===e.length)return;const{borderBoxSize:t}=e[0];if(null==t||!t.length)return;const n=t[0],i=n.blockSize,a=n.inlineSize;i>0&&Ze("parent",xe.ContentResize,{width:a,height:i})}),100));e.observe(document.body)},dt=async()=>{var e;const t=await st();if(null!=t&&null!=(e=t.parentConfig)&&e.shouldDetectUserActivity){var n;const{userActivityOptions:e}=t.parentConfig,i=fe((()=>{Ze("parent",xe.UserActivity)}),"undefined"!==typeof(null==e?void 0:e.detectionIntervalInMs)?e.detectionIntervalInMs:1e3);null==e||null==(n=e.eventsToDetect)||n.forEach((e=>{document.addEventListener(e,i)}))}},ut='<svg width="22px" height="22px" xmlns="http://www.w3.org/2000/svg" class="ck-loader"><defs><style>@keyframes csk-loader-animation{0%{opacity:1}12.5%{opacity:.9}25%{opacity:.7}37.5%{opacity:.6}50%{opacity:.4}62.5%{opacity:.3}75%{opacity:.2}87.5%{opacity:.13}}.ck-loader path{fill:var(--ck-loader-color,rgba(0,0,0,0.56));opacity:.2;animation-name:csk-loader-animation;animation-timing-function:cubic-bezier(1,0.1,0,0.3);animation-duration:.8s;animation-iteration-count:infinite}.ck-loader path:nth-child(2){animation-delay:.1s}.ck-loader path:nth-child(3){animation-delay:.2s}.ck-loader path:nth-child(4){animation-delay:.3s}.ck-loader path:nth-child(5){animation-delay:.4s}.ck-loader path:nth-child(6){animation-delay:.5s}.ck-loader path:nth-child(7){animation-delay:.6s}.ck-loader path:nth-child(8){animation-delay:.7s}</style><clipPath id="b"><path d="M1.5 0C2.328427 0 3 .671573 3 1.5v4C3 6.328427 2.328427 7 1.5 7S0 6.328427 0 5.5v-4C0 .671573.671573 0 1.5 0Z" /></clipPath></defs><path clip-path="url(#b)" transform="translate(9.5)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(45 6.25 22.467514)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(90 6.25 15.75)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(-45 24.356602 -7.967514)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="translate(9.5 15)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(45 -11.856602 14.967514)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(90 -1.25 8.25)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(-45 6.25 -.467514)" d="M0 0h3v7H0V0z" /></svg>';function pt(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var mt=".ck-curtain {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.48);\n}\n\n.ck-placeholder-modal__container {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ck-placeholder-modal__modal {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  max-width: 800px;\n  max-height: 560px;\n  border-radius: 10px;\n  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.2);\n  background: #fff;\n}\n\n@media (prefers-color-scheme: dark) {\n  .ck-placeholder-modal__modal {\n    background: rgb(29, 29, 31);\n    --ck-loader-color: rgba(255, 255, 255);\n  }\n}\n\n.ck-placeholder-modal__modal--light {\n  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.2);\n  background: #fff;\n}\n\n.ck-placeholder-modal__modal--dark {\n  background: rgb(29, 29, 31);\n  --ck-loader-color: rgba(255, 255, 255);\n}\n\n@media screen and (max-width: 739px) {\n  .ck-placeholder-modal__modal {\n    max-height: 100vh;\n    max-height: -webkit-fill-available;\n    border-radius: 0;\n  }\n}\n";pt(mt);const gt=()=>{const e=document.createElement("div");return e.classList.add("ck-curtain"),e},ft=e=>{const t=document.createElement("div");t.classList.add("ck-placeholder-modal__container");const n=document.createElement("div");n.classList.add("ck-placeholder-modal__modal",..."light"===(null==e?void 0:e.theme)?["ck-placeholder-modal__modal--light"]:[],..."dark"===(null==e?void 0:e.theme)?["ck-placeholder-modal__modal--dark"]:[]),t.appendChild(n);const i=document.createElement("div");return i.innerHTML+=ut,setTimeout((()=>{n.appendChild(i)}),2e3),t},ht=()=>"root"!==H(),yt=()=>{let e,t=[];const n=()=>JSON.stringify(t.map((e=>e.messageTargetId))),i=e=>{const{modalOptions:t}=me();return l(l({},t),e)},a=e=>{o(e.container);const{messageTargetId:n,iframeEl:i,placeholder:a}=e;D("[Modal] Showing iframe w/ target ID: ".concat(n)),i.style.pointerEvents="auto",i.style.opacity="1",null==a||a.remove(),t.filter((t=>t.messageTargetId!==e.messageTargetId)).forEach((e=>r(e))),null==e.onModalWasShown||e.onModalWasShown(),Ze(n,xe.ModalWasShown)},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{messageTargetId:n,iframeEl:i}=e;t||D("[Modal] Hiding iframe w/ target ID: ".concat(n)),i.style.pointerEvents="none",i.style.opacity="0"},o=t=>{e||(e=gt(),t.prepend(e))},s=()=>{Z().forEach((e=>{const t=at(e);null!=t&&t.hasReceivedReadyToBeShown||null==t||t.beginTimeout()}))},c=e=>new Promise(((n,i)=>{const a=(r,o)=>{0===t.length&&(null==e||e()),Te.removeListener(xe.ModalDidPop,a),Te.removeListener(xe.ModalDidClose,a),$e(xe.ModalDidClose,o),"failure"===o.result?i(new te(o)):n(o)};Te.addListener(xe.ModalDidPop,a),Te.addListener(xe.ModalDidClose,a)})),d=i=>{ht()?Ze("parent",xe.CloseModal,i):(t.forEach((e=>{ot(e)})),s(),t=[],D("[Modal] Closing modal. Current modal stack: ".concat(n())),Xe(xe.ModalDidClose,i),e&&(e.remove(),e=null))},u=(e,s,u)=>{var p;const m=i(s),{onModalClose:g,onModalWasShown:f,queryParams:h,pathParams:y,hash:S,data:v,path:b,containerSelector:C,onModalReadyToBeShown:P,onModalRequested:A,suppressPlaceholder:I}=m;if(ht())return Ze("parent",xe.PushModal,ke({routeName:e,queryParams:h,pathParams:y,hash:S,data:v,path:b,suppressPlaceholder:I})),c(g);null==(p=at(u))||p.stopTimeout();const k=document.querySelector(C||"body");if(!k)throw new Error("Modal container element not found with selector '".concat(C,"'"));const{theme:V}=me(),w=I?void 0:ft({theme:V});null==A||A();const E=l({container:k,placeholder:w,onModalWasShown:f},rt(e,{queryParams:h,pathParams:y,hash:S,onTimeout:()=>{me().closeOnTimeout&&d({result:"failure",errorKey:"TIMEOUT_EXCEEDED"})},onCleanup:()=>{null==w||w.remove()},onReadyToBeShown:()=>{null==P||P(),t[t.length-1]===E&&a(E)},data:v,isModal:!0}));return r(E),E.iframeEl.style.position="fixed",E.iframeEl.style.top="0",E.iframeEl.style.right="0",E.iframeEl.style.bottom="0",E.iframeEl.style.left="0",t.push(E),D("[Modal] Pushing modal. Current modal stack: ".concat(n())),E.placeholder&&(t.filter((e=>e.messageTargetId!==E.messageTargetId)).forEach((e=>{var t;r(e),null==(t=e.placeholder)||t.remove()})),o(E.container),E.container.append(E.placeholder)),E.container.append(E.iframeEl),c(g)},p=i=>{if(ht())return void Ze("parent",xe.PopModal,i);const r=t.pop();if(D("[Modal] Popping modal. Current modal stack: ".concat(n())),!r)return;if(t.length<=0)return ot(r),s(),Xe(xe.ModalDidClose,i),void(e&&(e.remove(),e=null));const o=t[t.length-1];Ze(o.messageTargetId,xe.ModalDidPop,i);const c=at(o.messageTargetId);null!=c&&c.hasReceivedReadyToBeShown?a(o):(o.placeholder&&o.container.append(o.placeholder),null==c||c.beginTimeout()),ot(r)};return{modalStack:t,shouldRelayModalMessage:ht,pushModal:u,popModal:p,closeModal:d,showModal:a,hideModal:r}},St=yt(),vt=(e,t)=>St.pushModal(e,t||{},H()),bt=vt,Ct=St.closeModal,Pt=St.popModal;let At;const It=e=>({httpStatus:e.httpStatus,body:e.body,error:e.error}),kt={},Vt=(e,t)=>{const{httpStatus:n,error:i,requestId:a}=t;kt[a]&&(!n&&i?kt[a].reject(It(t)):kt[a].resolve(It(t)),delete kt[a])},wt=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=n>0?"".concat(t,"-").concat(n):"".concat(t);return kt[i]?e(t,n+1):i},Et=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((i,a)=>{At||x("Fetch was called, but proxy iframe was not rendered. Ensure fetchOptions.shouldEnableFetchProxy is set to true.");const r=wt(e);kt[r]={resolve:i,reject:a};const{devToken:o}=me();n.shouldIncludeAuthorizationHeader&&o&&(t.headers=l(l({},t.headers),{},{Authorization:"Bearer ".concat(o)})),Ze(At,xe.FetchRequest,{bagKey:e,requestId:r,requestOptions:t})}))},Rt=()=>{var e;const{messageTargetId:t,iframeEl:n}=rt(f.FetchProxy);n.style.width="0",n.style.height="0",n.style.display="none";const{fetchOptions:i}=me();null==(e=document.querySelector((null==i?void 0:i.proxyContainerSelector)||"body"))||e.appendChild(n),At=t},Lt=(e,t)=>{const n="string"===typeof e?S(e):e;return bt(f.BuyV2,l(l({},null!=t&&t.silent?{suppressPlaceholder:!0}:{}),{},{data:l(l({},t||{}),{},{buyParams:n})}))},Mt=async function(){let{attemptSilentAuth:e,queryParams:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attemptSilentAuth:!1};return vt(e?f.SilentAuthenticate:f.Authenticate,l(l({},e?{suppressPlaceholder:!0}:{}),{},{queryParams:t}))},Tt=()=>bt(f.Logout),Ut=(e,t)=>bt(f.SubscriptionPriceIncrease,{data:{acknowledgeData:t},queryParams:{subscriptionId:e}}),Ot=e=>bt(f.InboxMessages,{data:{inboxMessages:e}}),Bt=async e=>Et(m.InboxMessages,{queryParams:e?{subscriptionType:e.subscriptionType,messageType:e.messageType}:void 0},{shouldIncludeAuthorizationHeader:!0}),Dt=async e=>Bt({subscriptionType:e,messageType:"PRICE_INCREASE"}),xt=async e=>{const t=await vt(f.PodcastsConnectSubscribe,{data:{contentProviderId:e}});if("success"!==t.result)throw new Error("PURCHASE FAILED");return t},Ft=async e=>{const t=await vt(f.PodcastsConnectRenew,{data:{contentProviderId:e}});if("success"!==t.result)throw new Error("RENEW FAILED");return t},_t=async e=>{const t=await vt(f.SubscriptionImpactMessaging,{queryParams:{contentProviderId:e,subscriptionType:"Ziz",impactMessagingContext:"cancelSubscription"}});if("success"!==t.result)throw new Error("CANCELLATION FAILED");return t};var Nt=Object.freeze({__proto__:null,buy:Lt,authenticate:Mt,logout:Tt,openPriceIncreaseAgreement:Ut,openInboxMessages:Ot,getInboxMessages:Bt,getPriceIncreaseMessages:Dt,podcastsConnectSubscribe:xt,podcastsConnectRenew:Ft,podcastsConnectCancel:_t}),qt=l(l({createIframe:rt,destroyIframe:ot,openModal:bt,closeModal:Ct,pushModal:vt,popModal:Pt,getBootConfig:st,send:Ze,getMessageTarget:Q,getMessageTargets:J,eventEmitter:Te,fetch:Et},Nt),{},{version:"3.1.0"});let Gt=!1;const Wt=e=>{Y(e),Ye(e)},zt=(e,t)=>{St.pushModal(t.routeName,t,e)},Ht=(e,t)=>{St.pushModal(t.routeName,t,e)},jt=(e,t)=>{Ct(t)},Kt=(e,t)=>{Pt(t)},Qt=(e,t)=>{ct(t)},Jt=(e,t)=>{"root"!==H()&&Ze("parent",xe.UserActivity,t)},Zt=()=>{Te.addListener(xe.InitializedHosted,Wt),Te.addListener(xe.OpenModal,zt),Te.addListener(xe.CloseModal,jt),Te.addListener(xe.BootWithConfig,Qt),Te.addListener(xe.PushModal,Ht),Te.addListener(xe.PopModal,Kt),Te.addListener(xe.UserActivity,Jt),Te.addListener(xe.FetchResponse,Vt)},Yt=e=>{if(!ze(e))return;const{eventName:t,sender:n,data:i}=_e(e.data);Qe(t,n,i),Te.emit(t,n,i)},Xt=()=>{Gt||(window.addEventListener("message",Yt),Zt(),Gt=!0,D("Started listening"))},$t=e=>{var t;const n=pe(e);return M({configLogLevel:n.logLevel,iframeNameLogLevel:W(window.name).logLevel,localStorageLogLevel:localStorage.getItem("ckLogLevel")}),q(),Xt(),k()?(lt(),dt(),null==n.onBeforeBoot||n.onBeforeBoot(qt)):null!=(t=n.fetchOptions)&&t.shouldEnableFetchProxy&&Rt(),qt}}}]);
